<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>MaintenaTrack</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    {% load static %}
    <link rel="icon" href="data:,">

    <style>
      :root {
        /* Brand */
        --jj-red: #e4002b; /* Johnson & Johnson red */

        /* Low-glare surface + ink */
        --ink: #111;
        --ink-2: #444;
        --bg: #f6f7f8;        /* was #fff → softer canvas */
        --bg-soft: #f2f3f5;   /* soft panels/chips */
        --line: #e3e5e8;      /* subtler borders */
        --ring: rgba(228, 0, 43, 0.22);
        --shadow: 0 8px 24px rgba(0,0,0,.06);
        --radius: 16px;
      }
      * { box-sizing: border-box; }
      html, body {
        margin: 0; padding: 0; background: var(--bg); color: var(--ink);
        font: 16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      a { color: var(--jj-red); text-decoration: none; }
      a:hover { text-decoration: underline; }

      /* Top bar */
      .nav { background: var(--jj-red); color: #fff; position: sticky; top: 0; z-index: 10; }
      .nav .wrap {
        max-width: 1100px; margin: 0 auto; display: flex; align-items: center; gap: 16px; padding: 10px 16px;
      }
      .brand { font-weight: 800; letter-spacing: .2px; font-size: 18px; }
      .nav a { color: #fff; opacity: .95; }
      .nav a:hover { opacity: 1; text-decoration: underline; }
      .spacer { flex: 1; }

      /* Buttons */
      .btn { display: inline-block; border: 1px solid transparent; padding: 8px 12px; border-radius: 10px; cursor: pointer; }
      .btn-ghost { border-color: rgba(255,255,255,.35); }
      .btn-primary { background: #fff; color: var(--jj-red); font-weight: 600; }

      /* Normalize native <button> + hover (fixes grey pill) */
      button.btn{
        background: transparent; border: 1px solid transparent; color: inherit; font: inherit;
        padding: 8px 12px; border-radius: 10px; cursor: pointer; appearance: none; -webkit-appearance: none;
        transition: background-color .15s ease, border-color .15s ease, transform .05s ease;
      }
      .nav .btn-ghost{ background: transparent; color:#fff; border-color: rgba(255,255,255,.35); }
      .nav .btn-ghost:hover{ background: rgba(255,255,255,.12); border-color: rgba(255,255,255,.7); }
      .btn-primary:hover{ filter: brightness(.96); }

      /* Layout */
      .container { max-width: 1100px; margin: 28px auto; padding: 0 16px; }
      .page-title { font-size: 28px; margin: 0 0 16px 0; letter-spacing: .3px; }
      .center-card{ max-width: 760px; margin: 0 auto; }

      /* Cards & list */
      .card {
        background:#fff; border:1px solid var(--line); border-radius: var(--radius);
        box-shadow: var(--shadow); padding:18px;
      }
      .list { display:grid; gap:14px; }
      .empty {
        padding:18px; border:1px dashed var(--line); border-radius: var(--radius);
        background: var(--bg-soft);
      }

      /* Filters / Forms */
      .filters { display:flex; flex-wrap:wrap; gap:8px; align-items:center; margin:12px 0 18px; }
      input, select, textarea {
        border:1px solid var(--line); border-radius:10px; padding:8px 10px; outline:none; background:#fff; min-height:38px;
      }
      input:focus, select:focus, textarea:focus { box-shadow:0 0 0 4px var(--ring); border-color: var(--jj-red); }

      label { font-size:12px; color:var(--ink-2); }
      .chip { display:inline-block; padding:4px 8px; border-radius:999px; border:1px solid var(--line); background: var(--bg-soft); font-size:12px; color:var(--ink-2); }

      /* Form sections */
      .formbox { display:grid; gap:12px; }
      .fieldset { background:#fff; border:1px solid var(--line); border-radius: var(--radius); padding:16px; }
      .stepset { display:grid; gap:10px; }
      .step { border:1px solid var(--line); border-radius:12px; padding:12px; background:#fff; }

      /* Django error list */
      .errorlist{ color: var(--jj-red); margin: 0 0 8px 0; padding: 0; list-style: none; }

      /* Footer */
      footer { color:#777; font-size:13px; text-align:center; margin:36px 0 18px; }
    </style>
  </head>
  <body>
    <!-- ─────────────── NAVBAR ─────────────── -->
    <header class="nav">
      <div class="wrap">
        <a class="brand" href="{% url 'maintenance:log_list' %}">MaintenaTrack</a>
        <a href="{% url 'maintenance:log_list' %}">Logs</a>
        {% if user.is_authenticated %}
          <a href="{% url 'maintenance:log_create' %}">New Log</a>
          <div class="spacer"></div>
          <!-- Logout via POST → redirect to login -->
          <form method="post" action="{% url 'logout' %}" style="display:inline">
            {% csrf_token %}
            <input type="hidden" name="next" value="{% url 'login' %}">
            <button type="submit" class="btn btn-ghost">Logout</button>
          </form>
        {% else %}
          <div class="spacer"></div>
          <a href="{% url 'login' %}" class="btn btn-ghost">Login</a>
          <a href="{% url 'maintenance:signup' %}" class="btn btn-ghost">Sign up</a>
        {% endif %}
      </div>
    </header>
    <!-- ───────────── END NAVBAR ───────────── -->

    <main class="container">
      {% block content %}{% endblock %}
    </main>

    <footer>© {% now "Y" %} MaintenaTrack — Maintenance Knowledge Base</footer>
  </body>
</html>
